<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">

        <title>Using Functions as Plugin Parameters - jsPsych</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../../css/prettify-1.0.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link href="../../css/extra.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../..">jsPsych</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Tutorials <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../tutorials/go-nogo-task">Demo Experiment: Go / No-Go Task</a>
                        </li>
                    
                        <li >
                            <a href="../../tutorials/flanker-task">Demo Experiment: Flanker Task</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Core Library API <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../core_library/overview">Overview</a>
                        </li>
                    
                        <li >
                            <a href="../../core_library/jspsych-core">jsPsych core</a>
                        </li>
                    
                        <li >
                            <a href="../../core_library/jspsych-data">jsPsych.data</a>
                        </li>
                    
                        <li >
                            <a href="../../core_library/jspsych-randomization">jsPsych.randomization</a>
                        </li>
                    
                        <li >
                            <a href="../../core_library/jspsych-turk">jsPsych.turk</a>
                        </li>
                    
                        <li >
                            <a href="../../core_library/jspsych-pluginAPI">jsPsych.pluginAPI</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Plugins <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../plugins/overview">Overview</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/creating-a-plugin">Creating a New Plugin</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/jspsych-animation">jspsych-animation</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/jspsych-call-function">jspsych-call-function</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/jspsych-categorize">jspsych-categorize</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/jspsych-categorize-animation">jspsych-categorize-animation</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/jspsych-free-sort">jspsych-free-sort</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/jspsych-html">jspsych-html</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/jspsych-palmer">jspsych-palmer</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/jspsych-same-different">jspsych-same-different</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/jspsych-similarity">jspsych-similarity</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/jspsych-single-stim">jspsych-single-stim</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/jspsych-survey-likert">jspsych-survey-likert</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/jspsych-survey-text">jspsych-survey-text</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/jspsych-text">jspsych-text</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/jspsych-visual-search-circle">jspsych-visual-search-circle</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/jspsych-vsl-animate-occlusion">jspsych-vsl-animate-occlusion</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/jspsych-vsl-grid-scene">jspsych-vsl-grid-scene</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/jspsych-xab">jspsych-xab</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Features <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../chunks-blocks-trials">Creating an Experiment: Chunks, Blocks, & Trials</a>
                        </li>
                    
                        <li >
                            <a href="../progress-bar">Automatic Progress Bar</a>
                        </li>
                    
                        <li >
                            <a href="../mturk">Integrating with Mechanical Turk</a>
                        </li>
                    
                        <li >
                            <a href="../data">Data Storage</a>
                        </li>
                    
                        <li >
                            <a href="../randomization-repetition">Randomization & Repetition</a>
                        </li>
                    
                        <li class="active">
                            <a href=".">Using Functions as Plugin Parameters</a>
                        </li>
                    
                        <li >
                            <a href="../callbacks">Event-related Callback Functions</a>
                        </li>
                    
                        <li >
                            <a href="../image-preloading">Image Preloading</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li >
                    <a href="../../support">Support</a>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">About <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../about/about">About jsPsych</a>
                        </li>
                    
                        <li >
                            <a href="../../about/license">License</a>
                        </li>
                    
                        <li >
                            <a href="../../about/contributing">Contributing to jsPsych</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
                <li >
                    <a rel="next" href="../randomization-repetition">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../callbacks">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                <li>
                    <a href="https://github.com/jodeleeuw/jsPsych">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#using-functions-as-parameters-for-plugins">Using Functions as Parameters for Plugins</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="using-functions-as-parameters-for-plugins">Using Functions as Parameters for Plugins</h1>
<p>Most plugins allow parameters to be functions. In a typical declaration of a jsPsych block, trial parameters have to be known at the start of the experiment. This makes it impossible to alter the content of the trial based on the outcome of previous trials. When functions are used as parameters for a block of trials, the function is evaluated at the start of each trial, and the return value of the function is used as the parameter. This enables dynamic updating of the parameter based on data that a subject has generated.</p>
<p>Here is a sketch of how this functionality could be used to display a score to subjects that depends on their overall accuracy on the task.</p>
<pre class="prettyprint well"><code class="javascript">
// this variable contains a score based on accuracy.
// you can update the score variable in a number of ways.
// one option would be to use the on_trial_finish callback
// function of the core library to adjust the score every
// time a trial of the appropriate kind occurs.
var score = 0; 

var xab_block = {
  type: 'xab',
  stimuli: xab_stimuli,
  prompt: function() {
    return &quot;&lt;p&gt;Your current score is &quot;+score+&quot;&lt;/p&gt;&quot;;
  }
}
</code></pre>

</div>
        </div>

        

        <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/prettify-1.0.min.js"></script>
        <script src="../../js/base.js"></script>
        <script src="../../js/extra.js"></script>
    </body>
</html>