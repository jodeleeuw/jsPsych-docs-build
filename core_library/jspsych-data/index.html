<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">

        <title>jsPsych.data - jsPsych</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../../css/prettify-1.0.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link href="../../css/extra.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../..">jsPsych</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Tutorials <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../tutorials/go-nogo-task">Demo Experiment: Go / No-Go Task</a>
                        </li>
                    
                        <li >
                            <a href="../../tutorials/flanker-task">Demo Experiment: Flanker Task</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Core Library API <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../overview">Overview</a>
                        </li>
                    
                        <li >
                            <a href="../jspsych-core">jsPsych core</a>
                        </li>
                    
                        <li class="active">
                            <a href=".">jsPsych.data</a>
                        </li>
                    
                        <li >
                            <a href="../jspsych-randomization">jsPsych.randomization</a>
                        </li>
                    
                        <li >
                            <a href="../jspsych-turk">jsPsych.turk</a>
                        </li>
                    
                        <li >
                            <a href="../jspsych-pluginAPI">jsPsych.pluginAPI</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Plugins <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../plugins/overview">Overview</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/creating-a-plugin">Creating a New Plugin</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/jspsych-animation">jspsych-animation</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/jspsych-call-function">jspsych-call-function</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/jspsych-categorize">jspsych-categorize</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/jspsych-categorize-animation">jspsych-categorize-animation</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/jspsych-free-sort">jspsych-free-sort</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/jspsych-html">jspsych-html</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/jspsych-palmer">jspsych-palmer</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/jspsych-same-different">jspsych-same-different</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/jspsych-similarity">jspsych-similarity</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/jspsych-single-stim">jspsych-single-stim</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/jspsych-survey-likert">jspsych-survey-likert</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/jspsych-survey-text">jspsych-survey-text</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/jspsych-text">jspsych-text</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/jspsych-visual-search-circle">jspsych-visual-search-circle</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/jspsych-vsl-animate-occlusion">jspsych-vsl-animate-occlusion</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/jspsych-vsl-grid-scene">jspsych-vsl-grid-scene</a>
                        </li>
                    
                        <li >
                            <a href="../../plugins/jspsych-xab">jspsych-xab</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Features <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../features/chunks-blocks-trials">Creating an Experiment: Chunks, Blocks, & Trials</a>
                        </li>
                    
                        <li >
                            <a href="../../features/progress-bar">Automatic Progress Bar</a>
                        </li>
                    
                        <li >
                            <a href="../../features/mturk">Integrating with Mechanical Turk</a>
                        </li>
                    
                        <li >
                            <a href="../../features/data">Data Storage</a>
                        </li>
                    
                        <li >
                            <a href="../../features/randomization-repetition">Randomization & Repetition</a>
                        </li>
                    
                        <li >
                            <a href="../../features/functions-as-parameters">Using Functions as Plugin Parameters</a>
                        </li>
                    
                        <li >
                            <a href="../../features/callbacks">Event-related Callback Functions</a>
                        </li>
                    
                        <li >
                            <a href="../../features/image-preloading">Image Preloading</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li >
                    <a href="../../support">Support</a>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">About <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../about/about">About jsPsych</a>
                        </li>
                    
                        <li >
                            <a href="../../about/license">License</a>
                        </li>
                    
                        <li >
                            <a href="../../about/contributing">Contributing to jsPsych</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
                <li >
                    <a rel="next" href="../jspsych-core">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../jspsych-randomization">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                <li>
                    <a href="https://github.com/jodeleeuw/jsPsych">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#jspsychdata">jsPsych.data</a></li>
        
            <li><a href="#jspsychdatadataascsv">jsPsych.data.dataAsCSV</a></li>
        
            <li><a href="#jspsychdatadisplaydata">jsPsych.data.displayData</a></li>
        
            <li><a href="#jspsychdatagetdata">jsPsych.data.getData</a></li>
        
            <li><a href="#jspsychdatagetlastchunkdata">jsPsych.data.getLastChunkData</a></li>
        
            <li><a href="#jspsychdatagetlasttrialdata">jsPsych.data.getLastTrialData</a></li>
        
            <li><a href="#jspsychdatagettrialsfromchunk">jsPsych.data.getTrialsFromChunk</a></li>
        
            <li><a href="#jspsychdatagettrialsoftype">jsPsych.data.getTrialsOfType</a></li>
        
            <li><a href="#jspsychdatalocalsave">jsPsych.data.localSave</a></li>
        
            <li><a href="#jspsychdatawrite">jsPsych.data.write</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="jspsychdata">jsPsych.data</h1>
<p>The jsPsych.data module contains functions for interacting with the data generated by jsPsych plugins. </p>
<hr />
<h2 id="jspsychdatadataascsv">jsPsych.data.dataAsCSV</h2>
<pre class="prettyprint well"><code>jsPsych.data.dataAsCSV(append_data)
</code></pre>

<h3 id="parameters">Parameters</h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>append_data</td>
<td>object</td>
<td>Object of <code>key: value</code> pairs. Each key will become a column in the CSV file, whose rows are all filled in with the specified value.</td>
</tr>
</tbody>
</table>
<h3 id="return-value">Return value</h3>
<p>Returns a string in CSV format</p>
<h3 id="description">Description</h3>
<p>Generate a CSV formatted string containing all of the data generated in the experiment. </p>
<h3 id="examples">Examples</h3>
<h4 id="basic-example">Basic example</h4>
<pre class="prettyprint well"><code class="javascript">var csvString = jsPsych.data.dataAsCSV();
</code></pre>

<h4 id="appending-a-column-with-a-subject-id">Appending a column with a subject ID</h4>
<pre class="prettyprint well"><code class="javascript">var subjectID = 14;
var csvString = jsPsych.data.dataAsCSV({subject: subjectID});
</code></pre>

<hr />
<h2 id="jspsychdatadisplaydata">jsPsych.data.displayData</h2>
<pre class="prettyprint well"><code>jsPsych.data.displayData(format)
</code></pre>

<h3 id="parameters_1">Parameters</h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>format</td>
<td>string</td>
<td>Specifies whether to display the data in <code>'csv'</code> or <code>'json'</code> format.</td>
</tr>
</tbody>
</table>
<h3 id="return-value_1">Return value</h3>
<p>Returns nothing.</p>
<h3 id="description_1">Description</h3>
<p>Outputs all of the data collected in the experiment to the screen in either JSON or CSV format. This is a useful method for quick debugging when developing an experiment. </p>
<h3 id="examples_1">Examples</h3>
<h4 id="using-the-on_finish-callback-function-to-show-data-at-the-end-of-the-experiment">Using the on_finish callback function to show data at the end of the experiment</h4>
<pre class="prettyprint well"><code class="javascript">jsPsych.init({
    experiment_structure: exp,
    on_finish: function() {
        jsPsych.data.displayData('csv');
    }
})
</code></pre>

<hr />
<h2 id="jspsychdatagetdata">jsPsych.data.getData</h2>
<pre class="prettyprint well"><code>jsPsych.data.getData()
</code></pre>

<h3 id="parameters_2">Parameters</h3>
<p>None.</p>
<h3 id="return-value_2">Return value</h3>
<p>Returns an array containing all of the data generated in the experiment. Each element of the array contains the data for a single trial. Each trial's data is stored as an object in <code>key: value</code> format.</p>
<h3 id="description_2">Description</h3>
<p>Gets all of the data generated by the experiment.</p>
<h3 id="example">Example</h3>
<pre class="prettyprint well"><code class="javascript">var alldata = jsPsych.data.getData();
</code></pre>

<hr />
<h2 id="jspsychdatagetlastchunkdata">jsPsych.data.getLastChunkData</h2>
<pre class="prettyprint well"><code>jsPsych.data.getLastChunkData()
</code></pre>

<h3 id="parameters_3">Parameters</h3>
<p>None.</p>
<h3 id="return-value_3">Return value</h3>
<p>Returns an array containing all of the data generated in the same chunk as the last trial. Each element of the array contains the data for a single trial. Each trial's data is stored as an object in <code>key: value</code> format.</p>
<h3 id="description_3">Description</h3>
<p>Gets all of the data generated in the same chunk as the last trial. </p>
<h3 id="example_1">Example</h3>
<pre class="prettyprint well"><code>var lastchunkdata = jsPsych.data.getLastChunkData();
</code></pre>

<hr />
<h2 id="jspsychdatagetlasttrialdata">jsPsych.data.getLastTrialData</h2>
<pre class="prettyprint well"><code>jsPsych.data.getLastTrialData()
</code></pre>

<h3 id="parameters_4">Parameters</h3>
<p>None.</p>
<h3 id="return-value_4">Return value</h3>
<p>Returns an object in <code>key: value</code> format containing the data from the last trial.</p>
<h3 id="description_4">Description</h3>
<p>Gets the data generated by the last trial.</p>
<h3 id="example_2">Example</h3>
<pre class="prettyprint well"><code>var lasttrialdata = jsPsych.data.getLastTrialData();
</code></pre>

<hr />
<h2 id="jspsychdatagettrialsfromchunk">jsPsych.data.getTrialsFromChunk</h2>
<pre class="prettyprint well"><code>jsPsych.data.getTrialsFromChunk(chunk_id)
</code></pre>

<h3 id="parameters_5">Parameters</h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>chunk_id</td>
<td>string</td>
<td>The id of the chunk to get data from.</td>
</tr>
</tbody>
</table>
<h3 id="return-value_5">Return value</h3>
<p>Returns an array containing all of the data generated in a specified chunk. Each element of the array contains the data for a single trial. Each trial's data is stored as an object in <code>key: value</code> format.</p>
<h3 id="description_5">Description</h3>
<p>Get all the data generated by a specified chunk.</p>
<h3 id="example_3">Example</h3>
<pre class="prettyprint well"><code class="javascript">
var current_chunk_id = jsPsych.currentChunkID();

var data_from_current_chunk = jsPsych.data.getTrialsFromChunk(current_chunk_id);

</code></pre>

<hr />
<h2 id="jspsychdatagettrialsoftype">jsPsych.data.getTrialsOfType</h2>
<pre class="prettyprint well"><code>jsPsych.data.getTrialsOfType(type)
</code></pre>

<h3 id="parameters_6">Parameters</h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>string</td>
<td>Which plugin to get trial data from.</td>
</tr>
</tbody>
</table>
<h3 id="return-value_6">Return value</h3>
<p>Returns an array containing all of the data generated by a particular plugin. Each element of the array contains the data for a single trial. Each trial's data is stored as an object in <code>key: value</code> format.</p>
<h3 id="description_6">Description</h3>
<p>Gets all the data generated by trials from a particular plugin.</p>
<h3 id="examples_2">Examples</h3>
<h4 id="basic-example_1">Basic example</h4>
<pre class="prettyprint well"><code class="javascript">var all_xab_trials = jsPsych.data.getTrialsOfType('xab');
</code></pre>

<h4 id="compute-average-rt-over-whole-experiment">Compute average RT over whole experiment</h4>
<pre class="prettyprint well"><code class="javascript">// this example shows how this method could be used to display data
// to the subject, by finding all trials of type 'single-stim' and 
// calculating the average response time.

var debrief_block = {
  type: &quot;text&quot;,
  text: function() {
    return &quot;&lt;p&gt;Your average response time was &lt;strong&gt;&quot; + 
           getAverageResponseTime() + &quot;ms&lt;/strong&gt;. Press &quot; + 
           &quot;any key to complete the experiment. Thank you!&lt;/p&gt;&quot;;
  }
};

function getAverageResponseTime() {

  var trials = jsPsych.data.getTrialsOfType('single-stim');

  var sum_rt = 0;
  var valid_trial_count = 0;
  for (var i = 0; i &lt; trials.length; i++) {
    if (trials[i].rt &gt; -1) {
      sum_rt += trials[i].rt;
      valid_trial_count++;
    }
  }
  return Math.floor(sum_rt / valid_trial_count);
}
</code></pre>

<hr />
<h2 id="jspsychdatalocalsave">jsPsych.data.localSave</h2>
<pre class="prettyprint well"><code>jsPsych.data.localSave(filename, format, append_data)
</code></pre>

<h3 id="parameters_7">Parameters</h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>filename</td>
<td>string</td>
<td>Filename of locally saved file</td>
</tr>
<tr>
<td>format</td>
<td>string</td>
<td>Specifies either <code>'csv'</code> or <code>'json'</code> format</td>
</tr>
<tr>
<td>append_data</td>
<td>object</td>
<td>Object of <code>key: value</code> pairs. Each key will become a column in the CSV file (or property of each trial object if saving in JSON format), whose rows are all filled in with the specified value.</td>
</tr>
</tbody>
</table>
<h3 id="return-value_7">Return value</h3>
<p>Returns nothing.</p>
<h3 id="description_7">Description</h3>
<p>Saves a CSV or JSON file on the computer running the experiment. If conducting an online experiment, this will download the file onto the subject's computer, and is therefore not a recommended data storage solution for online data collection.</p>
<p><strong>Warning:</strong> This function relies on features which are <a href="http://caniuse.com/#search=createObjectURL">currently not supported by all major web browsers</a>, though adoption rates are increasing rapidly. It will work on the most recent versions of Chrome, Firefox, Safari, and Internet Explorer. </p>
<h3 id="example_4">Example</h3>
<pre class="prettyprint well"><code class="javascript">jsPsych.data.localSave('mydata.csv', 'csv', {subject: 12});
</code></pre>

<hr />
<h2 id="jspsychdatawrite">jsPsych.data.write</h2>
<pre class="prettyprint well"><code>jsPsych.data.write(data_object)
</code></pre>

<h3 id="parameters_8">Parameters</h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>data_object</td>
<td>object</td>
<td>Object of <code>key: value</code> pairs to store in jsPsych's data storage.</td>
</tr>
</tbody>
</table>
<h3 id="return-value_8">Return value</h3>
<p>Returns nothing.</p>
<h3 id="description_8">Description</h3>
<p>This is the only method available for storing data in jsPsych's data container. All plugins that write data do so using this method. It is not intended to be used outside of a plugin.</p>
<h3 id="examples_3">Examples</h3>
<pre class="prettyprint well"><code class="javascript">
var trial_data = {
    correct: true,
    rt: 487
}

jsPsych.data.write(trial_data);

</code></pre>

</div>
        </div>

        

        <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/prettify-1.0.min.js"></script>
        <script src="../../js/base.js"></script>
        <script src="../../js/extra.js"></script>
    </body>
</html>